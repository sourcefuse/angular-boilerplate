<nb-card class="h-100 card-row card-wrapper">
  <nb-card-body class="m-0">
    <div class="main-wrapper">
      <div>
        <div class="sign-in-title">
          <h2>{{ isEditMode ? 'Edit Plan' : 'Add New Plan' }}</h2>
        </div>
        <form [formGroup]="addPlanForm">
          <!-- input fields -->
          <div class="input-wrapper">
            <!-- Plan name -->
            <div class="input-box">
              <div class="input-title">
                <span>Name</span>
              </div>
              <div class="input">
                <input
                  placeholder="Enter Plan name "
                  fieldSize="medium"
                  status="“info”"
                  formControlName="name"
                  nbInput
                />
              </div>
            </div>
            <!-- Billing Plan in select-->
            <div class="input-box">
              <div class="input-title">
                <span>Billing Plan</span>
              </div>
              <div class="select">
                <nb-select
                  class="dropdown-wrapper"
                  placeholder="Basic"
                  status="basic"
                  formControlName="billingCycleId"
                >
                  <nb-option
                    *ngFor="let billingOption of billingOptions"
                    [value]="billingOption.id"
                  >
                    {{ billingOption.cycleName }}
                  </nb-option>
                </nb-select>
              </div>
            </div>

            <!-- price -->
            <div class="input-box">
              <div class="input-title">
                <span>Price</span>
              </div>
              <div class="input">
                <input
                  placeholder="Price"
                  fieldSize="medium"
                  status="“info”"
                  formControlName="price"
                  nbInput
                />
                <div *ngIf="price?.['pattern'] && price.touched">
                  Please enter a valid number.
                </div>
              </div>
            </div>

            <!-- currency -->
            <div class="input-box">
              <div class="input-title">
                <span>Currency</span>
              </div>
              <div class="select">
                <nb-select
                  class="dropdown-wrapper"
                  placeholder="Basic"
                  status="basic"
                  formControlName="currencyId"
                >
                  <nb-option
                    *ngFor="let currency of currencyOptions"
                    [value]="currency.id"
                  >
                    {{ currency.currencyName }}
                  </nb-option>
                </nb-select>
              </div>
            </div>

            <!-- desc -->
            <div class="input-box address-input-box">
              <div class="input-title">
                <span>Description</span>
              </div>
              <div class="input address-input">
                <textarea
                  placeholder="Description"
                  fieldSize="medium"
                  status="“info”"
                  fullWidth
                  formControlName="description"
                  nbInput
                  rows="4"
                ></textarea>
              </div>
            </div>
          </div>
          <div>
            <h3>Plan Configuration</h3>
          </div>

          <!-- Plan Tier in select-->
          <div class="radio-wrapper">
            <div class="input-box">
              <div class="input-title">
                <span>Tier</span>
              </div>
              <div class="radio-group radio-wrapper">
                <nb-radio-group formControlName="tier">
                  <nb-radio
                    *ngFor="let tier of tierOptions"
                    [value]="tier.value"
                  >
                    {{ tier.name }}
                  </nb-radio>
                </nb-radio-group>
              </div>
            </div>
          </div>

          <!-- Storage Size in select -->
          <!-- <div class="input-box">
              <div class="input-title">
                <span>Storage Size</span>
              </div>
              <div class="radio-group">
                <nb-radio-group formControlName="storage">
                  <nb-radio
                    *ngFor="let storage of storageSizes"
                    [value]="storage.value"
                  >
                    {{ storage.name }}
                  </nb-radio>
                </nb-radio-group>
              </div>
            </div> -->

          <!-- FeaturesList in select  -->
          <!-- <div class="input-box">
              <div class="input-title">
                <span>Services</span>
              </div>
              <div class="select">
                <nb-select
                  multiple
                  class="dropdown-wrapper"
                  placeholder="Basic"
                  status="basic"
                  formControlName="feature"
                >
                  <nb-option
                    *ngFor="let feature of featureOptions"
                    [value]="feature.value"
                  >
                    {{ feature.name }}
                  </nb-option>
                </nb-select>
              </div>
            </div> -->

          <!-- <nb-layout>
              <nb-layout-column>
                <section class="example-section">
                  <span class="example-list-section">
                    <nb-checkbox
                      class="example-margin"
                      [(checked)]="task.completed"
                      [indeterminate]="partiallyComplete()"
                      (change)="update($event)"
                    >
                      {{ task.name }}
                    </nb-checkbox>
                  </span>
                  <span class="example-list-section">
                    <ul>
                      <li *ngFor="let subtask of task.subtasks; let i = index">
                        <nb-checkbox
                          [(checked)]="subtask.completed"
                          (change)="update($event.checked, i)"
                        >
                          {{ subtask.name }}
                        </nb-checkbox>
                      </li>
                    </ul>
                  </span>
                </section>
              </nb-layout-column>
            </nb-layout> -->

          <!-- End of second input-wrapper -->

          <!-- AddPlan button -->
          <div class="regbtn">
            <button
              nbButton
              shape="round"
              size="medium"
              status="danger"
              [disabled]="!addPlanForm.valid"
              (click)="isEditMode ? editPlan() : addPlan()"
            >
              {{ isEditMode ? 'Edit Plan' : 'Add Plan' }}
            </button>
          </div>
        </form>
      </div>
    </div>
  </nb-card-body>
</nb-card>
